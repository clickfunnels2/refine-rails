#!/usr/bin/env ruby

require "colorize"
require "fileutils"

def system!(*args)
  system(*args) || abort("\n== Command #{args} failed ==".colorize(:red))
end

system! "bin/dummy rails db:drop db:create"
system! "bin/dummy rails db:migrate"
system! "bin/dummy rails db:seed"
system! "bin/dummy rails log:clear tmp:clear"

puts "\n== DONE! ==\n".colorize(:yellow)
puts <<~MSG
  You can now run the dummy app using 

    bin/dummy rails s
MSG
