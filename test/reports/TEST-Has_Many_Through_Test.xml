<?xml version="1.0" encoding="UTF-8"?>
<testsuite time='0.091707' skipped='0' failures='3' errors='0' name="Has Many Through Test" assertions='4' tests='4' timestamp="2022-05-26T16:07:14-07:00">
  <testcase time='0.034668' file="test/hammerstone/models/relationship_attributes/has_many_through_test.rb" name="test_0002_does not collapse ands" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;hmtt_countries\\&quot;.* FROM \\&quot;hmtt_countries\\&quot; WHERE ((\\&quot;hmtt_countries\\&quot;.\\&quot;id\\&quot; IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Foo&#39;))) AND (`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;+&quot;SELECT `hmtt_countries`.* FROM `hmtt_countries` WHERE ((`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Foo&#39;))) AND (`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/has_many_through_test.rb:61:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.019390' file="test/hammerstone/models/relationship_attributes/has_many_through_test.rb" name="test_0003_cannot collapse ors" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;hmtt_countries\\&quot;.* FROM \\&quot;hmtt_countries\\&quot; WHERE ((\\&quot;hmtt_countries\\&quot;.\\&quot;id\\&quot; IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Foo&#39;))) OR (`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;+&quot;SELECT `hmtt_countries`.* FROM `hmtt_countries` WHERE ((`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Foo&#39;))) OR (`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/has_many_through_test.rb:85:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.019849' file="test/hammerstone/models/relationship_attributes/has_many_through_test.rb" name="test_0004_can mix pending relationship types" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;hmtt_countries\\&quot;.* FROM \\&quot;hmtt_countries\\&quot; WHERE ((\\&quot;hmtt_countries\\&quot;.\\&quot;id\\&quot; IN (SELECT \\&quot;hmtt_owners\\&quot;.\\&quot;hmtt_country_id\\&quot; FROM \\&quot;hmtt_owners\\&quot; WHERE (\\&quot;hmtt_owners\\&quot;.\\&quot;name\\&quot; = &#39;Foo&#39;))) AND (\\&quot;hmtt_countries\\&quot;.\\&quot;id\\&quot; IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;+&quot;SELECT `hmtt_countries`.* FROM `hmtt_countries` WHERE ((`hmtt_countries`.`id` IN (SELECT `hmtt_owners`.`hmtt_country_id` FROM `hmtt_owners` WHERE (`hmtt_owners`.`name` = &#39;Foo&#39;))) AND (`hmtt_countries`.`id` IN (SELECT `hmtt_countries`.`id` FROM `hmtt_countries` INNER JOIN `hmtt_users` ON `hmtt_users`.`hmtt_country_id` = `hmtt_countries`.`id` INNER JOIN `hmtt_posts` ON `hmtt_posts`.`hmtt_user_id` = `hmtt_users`.`id` WHERE (`hmtt_posts`.`name` = &#39;Bar&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/has_many_through_test.rb:105:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.017800' file="test/hammerstone/models/relationship_attributes/has_many_through_test.rb" name="test_0001_defaults to using active record for has many through relationships" assertions='1'>
  </testcase>
</testsuite>
