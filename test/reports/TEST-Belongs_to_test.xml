<?xml version="1.0" encoding="UTF-8"?>
<testsuite time='0.301679' skipped='0' failures='9' errors='0' name="Belongs to test" assertions='11' tests='10' timestamp="2022-05-26T16:07:14-07:00">
  <testcase time='0.052702' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0001_uses where in for belongs to" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; = &#39;aaron&#39;)))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` = &#39;aaron&#39;)))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:39:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.029573' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0006_Does not collapse ORs with varying depths" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE ((\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Aaron%&#39;) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Francis%&#39;))) OR (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Sean%&#39;))) AND (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Fioritto%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE ((`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Aaron%&#39;) AND (`btt_users`.`name` LIKE &#39;%Francis%&#39;))) OR (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Sean%&#39;))) AND (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Fioritto%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:126:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.028852' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0008_collapses first and second level belongs to" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Aaron%&#39;) AND \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; IN (SELECT \\&quot;btt_notes\\&quot;.\\&quot;btt_user_id\\&quot; FROM \\&quot;btt_notes\\&quot; WHERE (\\&quot;btt_notes\\&quot;.\\&quot;body\\&quot; LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Aaron%&#39;) AND `btt_users`.`id` IN (SELECT `btt_notes`.`btt_user_id` FROM `btt_notes` WHERE (`btt_notes`.`body` LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:148:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.035174' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0005_does not mix up belongs to in groups" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE ((\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Aaron%&#39;) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Francis%&#39;))) OR (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Sean%&#39;) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Fioritto%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE ((`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Aaron%&#39;) AND (`btt_users`.`name` LIKE &#39;%Francis%&#39;))) OR (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Sean%&#39;) AND (`btt_users`.`name` LIKE &#39;%Fioritto%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:93:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.025856' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0002_can handle nested relationships" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; IN (SELECT \\&quot;btt_notes\\&quot;.\\&quot;btt_user_id\\&quot; FROM \\&quot;btt_notes\\&quot; WHERE (\\&quot;btt_notes\\&quot;.\\&quot;body\\&quot; LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE `btt_users`.`id` IN (SELECT `btt_notes`.`btt_user_id` FROM `btt_notes` WHERE (`btt_notes`.`body` LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:51:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.024790' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0003_collapses two attributes on belongs to relationships" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%o%&#39;) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%n%&#39;)))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%o%&#39;) AND (`btt_users`.`name` LIKE &#39;%n%&#39;)))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:63:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.024998' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0007_can handle deeply nested belongs to relationships" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; IN (SELECT \\&quot;btt_notes\\&quot;.\\&quot;btt_user_id\\&quot; FROM \\&quot;btt_notes\\&quot; WHERE (\\&quot;btt_notes\\&quot;.\\&quot;body\\&quot; LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE `btt_users`.`id` IN (SELECT `btt_notes`.`btt_user_id` FROM `btt_notes` WHERE (`btt_notes`.`body` LIKE &#39;%foo%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:136:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.027189' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0010_does not support refinements" assertions='2'>
  </testcase>
  <testcase time='0.025343' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0004_collapses two attributes on belongs to when not adjacent" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE ((\\&quot;btt_phones\\&quot;.\\&quot;number\\&quot; LIKE &#39;%214%&#39;) AND (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Aaron%&#39;) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Francis%&#39;))))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE ((`btt_phones`.`number` LIKE &#39;%214%&#39;) AND (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE (`btt_users`.`name` LIKE &#39;%Aaron%&#39;) AND (`btt_users`.`name` LIKE &#39;%Francis%&#39;))))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:78:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
  <testcase time='0.027202' file="test/hammerstone/models/relationship_attributes/belongs_to_test.rb" name="test_0009_collapses first and second level belongs to in opposite order" assertions='1'>
    <failure type='Minitest::Assertion' message="--- expected&#13;&#10;+++ actual&#13;&#10;@@ -1 +1 @@&#13;&#10;-&quot;SELECT \\&quot;btt_phones\\&quot;.* FROM \\&quot;btt_phones\\&quot; WHERE (\\&quot;btt_phones\\&quot;.\\&quot;btt_user_id\\&quot; IN (SELECT \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; FROM \\&quot;btt_users\\&quot; WHERE \\&quot;btt_users\\&quot;.\\&quot;id\\&quot; IN (SELECT \\&quot;btt_notes\\&quot;.\\&quot;btt_user_id\\&quot; FROM \\&quot;btt_notes\\&quot; WHERE (\\&quot;btt_notes\\&quot;.\\&quot;body\\&quot; LIKE &#39;%foo%&#39;)) AND (\\&quot;btt_users\\&quot;.\\&quot;name\\&quot; LIKE &#39;%Aaron%&#39;)))&quot;&#13;&#10;+&quot;SELECT `btt_phones`.* FROM `btt_phones` WHERE (`btt_phones`.`btt_user_id` IN (SELECT `btt_users`.`id` FROM `btt_users` WHERE `btt_users`.`id` IN (SELECT `btt_notes`.`btt_user_id` FROM `btt_notes` WHERE (`btt_notes`.`body` LIKE &#39;%foo%&#39;)) AND (`btt_users`.`name` LIKE &#39;%Aaron%&#39;)))&quot;&#13;&#10;">/Users/colleenschnettler/Documents/Documents/Developer/Hammerstone/refine-rails/test/hammerstone/models/relationship_attributes/belongs_to_test.rb:160:in `block (2 levels) in &lt;module:Conditions&gt;&#39;
    </failure>
  </testcase>
</testsuite>
