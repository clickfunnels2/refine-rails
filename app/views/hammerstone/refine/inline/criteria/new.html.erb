<%= turbo_frame_tag @criterion do %>
  <%= form_with model: @criterion,
    url: hammerstone_refine_inline_criteria_path(@criterion.to_params),
    method: :post,
    data: {
      turbo_frame: "_top",
      controller: "refine--condition-form",
      refine__condition_form_url_value: new_hammerstone_refine_condition_url(
        @criterion.to_params.merge(id: @criterion.condition_id)),
      refine__condition_form_turbo_frame_value: dom_id(@criterion)
    } do |form|
  %>
    <%= render "form_fields", form: form, conjunction: @conjunction, position: @position %>
  <% end %>
<% end %>
