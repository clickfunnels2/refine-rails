#!/usr/bin/env ruby

require "fileutils"

# Run the `rails` command within the dummy application
# @example Run `rails db:migrate` from the root of the dummy app
#  bin/dummy db:migrate

DUMMY_ROOT = File.expand_path("../test/dummy", __dir__)

def system!(*args)
  system(*args) || abort("\n== Command `#{args.join(' ')}` failed ==")
end

FileUtils.chdir DUMMY_ROOT do
  puts "\n== Running `" + ARGV.join(" ") + "` in the dummy application ==\n"
  system! *ARGV
end